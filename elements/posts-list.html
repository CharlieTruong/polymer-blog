<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="blog-post.html">

<polymer-element name="posts-list"
  attributes="firebaseRef"
>
  <template>
    <template repeat="{{post in posts}}">
      <blog-post post="{{post}}"></blog-post>
    </template>
  </template>


  <script>
    Polymer({
      ready: function() {
        var self = this;
        this.firebaseRef.child('posts')
        .orderByPriority()
        .on('value', function(posts) {
          self.posts = [];
          posts.forEach(function(post) {
            self.posts.push(post.val());
          });
        }); 
      }
    });
  </script>

</polymer-element>