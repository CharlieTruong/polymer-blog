<link rel="import" href="../bower_components/polymer/polymer.html">
<script src="../bower_components/firebase/firebase.js"></script>

<polymer-element name="firebase-login"
  attributes="provider firebaseAddress firebaseRef router"
>

  <template>
    <div 
      id="login-link"
      on-click="{{goToLogin}}"
    >Login with Google</div>

    <style>
      #login-link {
        cursor: pointer;
      }
    </style>
  </template>


  <script>
    Polymer({
      attached: function() {
        var self = this;
        this.firebaseRef.onAuth(function(authData) { 
        });
      },
      ready: function() {
        this.firebaseRef = new Firebase(this.firebaseAddress);
      },
      goToLogin: function() {
        this.firebaseRef.authWithOAuthRedirect(this.provider, function(error) {
          if (error) {
            console.log('Login Error', error);
          }
        },
        {
          scope: 'email'
        });
      }
    });
  </script>

</polymer-element>